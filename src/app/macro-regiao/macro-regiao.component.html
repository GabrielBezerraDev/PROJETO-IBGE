<div class="page">
  <div class="card">
    <h2 class="font">Checar as estatística da região</h2>
    <hr>
    <mat-accordion>
      <form [formGroup]="formIBGE">
        <mat-expansion-panel hideToggle>
            <mat-expansion-panel-header>
              <mat-panel-title>
                This is the expansion title
              </mat-panel-title>
              <mat-panel-description>
                This is a summary of the content
              </mat-panel-description>
            </mat-expansion-panel-header>

            <mat-form-field>
              <mat-label>Selecione a Região</mat-label>
              <mat-select  formControlName="regiao" (selectionChange)="actived('agregado')">
                <mat-option *ngFor="let regiao of macroRegiaoCard" [value]="regiao.id">
                  {{regiao.nome}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Selecione o agregado</mat-label>
              <mat-select formControlName="agregado"  (selectionChange)="[setProblemas(),actived('problema')]">
                <mat-option *ngFor="let pesquisa of pesquisas" [value]="pesquisa.agregados">
                  {{pesquisa.nome}}
                </mat-option>
              </mat-select>
            </mat-form-field>


          <mat-form-field>
            <mat-label>Selecione problema</mat-label>
            <mat-select formControlName="problema" (selectionChange)="getPeriodos()">
              <mat-option *ngFor="let problema of problemas" [value]="problema.id">
                {{problema.id}} - {{problema.nome}}.
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Selecione o periodo</mat-label>
            <mat-select formControlName="problema" >
              <mat-option *ngFor="let periodo of periodos" [value]="periodo.id">
                {{periodo.literals}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <!-- <mat-form-field>
            <mat-label>Favorite food</mat-label>
            <mat-select formControlName="estado">
            </mat-select>
          </mat-form-field> -->

        </mat-expansion-panel>
      </form>
      <mat-expansion-panel (opened)="panelOpenState = true"
                           (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Self aware panel
          </mat-panel-title>
          <mat-panel-description>
            Currently I am {{panelOpenState ? 'open' : 'closed'}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <p>I'm visible because I am open</p>
      </mat-expansion-panel>
    </mat-accordion>

  </div>
</div>

